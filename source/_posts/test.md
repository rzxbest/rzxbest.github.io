---
title: JVM类加载子系统
date: 2021-11-25 14:59:29
tags: [JAVA,虚拟机]
categories: [JAVA]
---

## 类加载流程

1. 加载：从硬盘读取class文件

2. 验证：验证字节码准确性

3. 准备：类静态变量赋值，默认值基础类型0，false等等，对象类型null

4. 解析：将符号引用替换为直接引用

   1. 静态链接：main方法替换为指向数据所存内存区域的指针
   2. 动态链接：运行期间将符号引用替换为指向内存区域的指针

5. 初始化：类的静态变量初始化为制定的值，执行静态代码块

   

## 类加载器与双亲委派机制

- 启动类加载器：加载jre/lib下的核心类库
- 扩展类加载器：加载lib/ext 下的jar包
- 应用程序加载器：加载自己写的类
- 自定义类加载器：加载自定义路径的类

**打印 启动类加载器 打印出null？原因：c语言实现，java里找不到打印null**

### 自定义类加载器

1. 重写loadClass方法

2. 重写findClass方法

   
